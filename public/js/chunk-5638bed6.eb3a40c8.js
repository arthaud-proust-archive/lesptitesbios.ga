(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5638bed6"],{3232:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"hide-overflow"},[e._m(0),e._m(1),r("div",{staticClass:"auth"},[r("form",[r("h1",[e._v("Créer un compte")]),r("p",[e._v("En créant un compte vous acceptez les "),r("b",[r("router-link",{attrs:{to:"/info/inscription"}},[e._v("conditions d'inscription")])],1),e._v(". Merci de les "),r("b",[e._v("lire attentivement avant de vous inscrire")]),e._v(".")]),r("label",{domProps:{innerHTML:e._s(e.nameLabel)}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",id:"name",placeholder:"Votre nom ou prénom"},domProps:{value:e.name},on:{keyup:e.verifyInputs,input:function(t){t.target.composing||(e.name=t.target.value)}}}),r("br"),r("label",{domProps:{innerHTML:e._s(e.mdpLabel)}}),"checkbox"===(e.showPwd?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",placeholder:"Minimum 8 caractères",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{keyup:e.verifyInputs,change:function(t){var r=e.password,s=t.target,a=!!s.checked;if(Array.isArray(r)){var o=null,n=e._i(r,o);s.checked?n<0&&(e.password=r.concat([o])):n>-1&&(e.password=r.slice(0,n).concat(r.slice(n+1)))}else e.password=a}}}):"radio"===(e.showPwd?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",placeholder:"Minimum 8 caractères",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{keyup:e.verifyInputs,change:function(t){e.password=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",placeholder:"Minimum 8 caractères",type:e.showPwd?"text":"password"},domProps:{value:e.password},on:{keyup:e.verifyInputs,input:function(t){t.target.composing||(e.password=t.target.value)}}}),"checkbox"===(e.showPwd?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.cpassword,expression:"cpassword"}],attrs:{placeholder:"Confirmez le mot de passe",type:"checkbox"},domProps:{checked:Array.isArray(e.cpassword)?e._i(e.cpassword,null)>-1:e.cpassword},on:{keyup:e.verifyInputs,change:function(t){var r=e.cpassword,s=t.target,a=!!s.checked;if(Array.isArray(r)){var o=null,n=e._i(r,o);s.checked?n<0&&(e.cpassword=r.concat([o])):n>-1&&(e.cpassword=r.slice(0,n).concat(r.slice(n+1)))}else e.cpassword=a}}}):"radio"===(e.showPwd?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.cpassword,expression:"cpassword"}],attrs:{placeholder:"Confirmez le mot de passe",type:"radio"},domProps:{checked:e._q(e.cpassword,null)},on:{keyup:e.verifyInputs,change:function(t){e.cpassword=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.cpassword,expression:"cpassword"}],attrs:{placeholder:"Confirmez le mot de passe",type:e.showPwd?"text":"password"},domProps:{value:e.cpassword},on:{keyup:e.verifyInputs,input:function(t){t.target.composing||(e.cpassword=t.target.value)}}}),r("sup",{staticStyle:{cursor:"pointer","text-align":"right","margin-right":"5px"},on:{click:function(t){e.showPwd=!e.showPwd}}},[e._v(e._s(e.showPwd?"Cacher le mot de passe":"Afficher le mot de passe"))]),r("br"),r("label",{domProps:{innerHTML:e._s(e.contactLabel)}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.contact,expression:"contact"}],attrs:{type:"text",id:"contact",placeholder:"Mail ou numéro de téléphone"},domProps:{value:e.contact},on:{keyup:[e.verifyInputs,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.postRegister(t)}],input:function(t){t.target.composing||(e.contact=t.target.value)}}}),r("br"),r("input",{attrs:{type:"button",value:"Créer un compte"},on:{click:e.postRegister}}),r("BarLoader",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticStyle:{margin:"0 auto","border-radius":"5px, display: none"},attrs:{height:2,width:100}}),r("sup",{staticStyle:{"text-align":"center"}},[r("router-link",{attrs:{to:"/login"}},[e._v("Se connecter")])],1)],1)])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title"},[r("h1",[e._v("Inscription")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card content"},[r("h2",[e._v("Pourquoi s'inscrire?")]),r("p",[e._v("\n            S'inscrire permet d'ajouter du contenu au site. Vous pouvez apporter aux biographies vos recherches et les informations manquantes.\n            "),r("br"),e._v("Du coté des fiches de révisions, vous pouvez mettre en commun votre travail ou encore prendre la relève des élèves de première lorsqu'ils passeront leur oral de français.\n        ")])])}],o=(r("8e6e"),r("ac6a"),r("456d"),r("4917"),r("7f7f"),r("bd86")),n=r("2f62"),i=r("bc3a"),c=r.n(i);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={data:function(){return{nameLabel:"Nom d'utilisateur pour la connexion",mdpLabel:"Mot de passe",contactLabel:"Nous aurons peut-être besoin de vous contacter",name:"",password:"",cpassword:"",showPwd:!1,contact:"",loading:!1}},computed:d({},Object(n["c"])("jwt",["jwt","jwtSubject","jwtIssuer"]),{},Object(n["c"])("api",["apiPath"])),methods:d({},Object(n["b"])("jwt",["setJwt"]),{},Object(n["b"])("alert",["newAlert"]),{verifyInputs:function(){return""==this.name?(this.nameLabel='<span style="color:#FF3535">Nom d\'utilisateur pour la connexion requis</span>',!1):(this.nameLabel="Nom d'utilisateur pour la connexion",""==this.password||this.password.length<8||!this.password.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,50}$/)?(this.mdpLabel='<span style="color:#FF3535">Mot de passe complexe requis <br><sub>minimum 8 caractères, contenant au moins majuscule, minuscule et chiffre</sub></span>',!1):this.password!==this.cpassword?(this.mdpLabel='<span style="color:#FF3535">Mots de passe différents</span>',!1):(this.mdpLabel="Mot de passe",""==this.contact?(this.contactLabel='<span style="color:#FF3535">Nous aurons peut-être besoin de vous contacter</span>',!1):(this.contactLabel="Nous aurons peut-être besoin de vous contacter",!0)))},postRegister:function(){var e=this;if(!this.verifyInputs())return!1;this.loading=!0,c()({method:"post",url:"".concat(this.apiPath,"/api/register"),headers:{Authorization:"Bearer ".concat(this.jwt)},data:{name:this.name,password:this.password,contact:this.contact}}).then((function(t){if(e.loading=!1,"success"==t.data.status&&(e.newAlert({type:"success",content:"Account successfully created"}),e.newAlert({type:"warning",content:"Votre compte n'étant pas validé, vous ne pouvez pas accéder à l'interface d'administration"})),t.data.token&&(e.setJwt(t.data.token),e.$router.push("/")),"error"==t.data.status){var r=t.data.error.password?t.data.error.password:t.data.error.name?t.data.error.name:t.data.error;e.newAlert({type:"error",content:r})}})).catch((function(t){e.newAlert({type:"error",content:t})}))}}),created:function(){window.scrollTo(0,0)}},l=u,m=r("2877"),w=Object(m["a"])(l,s,a,!1,null,null,null);t["default"]=w.exports},4917:function(e,t,r){"use strict";var s=r("cb7c"),a=r("9def"),o=r("0390"),n=r("5f1b");r("214f")("match",1,(function(e,t,r,i){return[function(r){var s=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,s):new RegExp(r)[t](String(s))},function(e){var t=i(r,e,this);if(t.done)return t.value;var c=s(e),p=String(this);if(!c.global)return n(c,p);var d=c.unicode;c.lastIndex=0;var u,l=[],m=0;while(null!==(u=n(c,p))){var w=String(u[0]);l[m]=w,""===w&&(c.lastIndex=o(p,a(c.lastIndex),d)),m++}return 0===m?null:l}]}))}}]);
//# sourceMappingURL=chunk-5638bed6.eb3a40c8.js.map